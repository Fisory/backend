import prisma from '@/prisma/client';import { User } from '@prisma/client';export interface CreateUserDto {  phone: string;  nickname: string;  avatar?: string;}export interface UpdateUserDto {  nickname?: string;  avatar?: string;}export const findUserByPhone = async (phone: string): Promise<User | null> => {  return await prisma.user.findUnique({    where: { phone },  });};export const findUserById = async (id: bigint | string | number): Promise<User | null> => {  const userId = typeof id === 'bigint' ? id : BigInt(id);  return await prisma.user.findUnique({    where: { id: userId },  });};export const createUser = async (data: CreateUserDto): Promise<User> => {  return await prisma.user.create({    data: {      phone: data.phone,      nickname: data.nickname,      avatar: data.avatar,    },  });};export const updateUser = async (  id: bigint | string | number,  data: UpdateUserDto): Promise<User> => {  const userId = typeof id === 'bigint' ? id : BigInt(id);  return await prisma.user.update({    where: { id: userId },    data,  });};export const deleteUser = async (id: bigint | string | number): Promise<User> => {  const userId = typeof id === 'bigint' ? id : BigInt(id);  return await prisma.user.delete({    where: { id: userId },  });};export const countUsers = async (): Promise<number> => {  return await prisma.user.count();};
